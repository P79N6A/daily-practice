# 微积分基本定理

## 微积分第一基本定理
```
如果函数 f 在闭区间 [a, b] 上是连续的，定义 F 为
    F(x) =  ∫[a, x] f(t) dt,  x ∈ [a, b]
则 F 在开区间 (a, b) 内是可导函数，而且 F'(x) = f(x)
```
简而言之，可以总结为
```
d/dx ∫[a, b] f(t) dt = f(x)
```

#### ◉ 反导数
根据微积分第一基本定理有：```F'(x) = f(x)```，而 ```F(x) = ∫[a, x] f(t) dt```。二者关系是：
F 是 f(x) 的反导数，即通过 f(x) 可推出使其成为导数结果的原函数。

> 如果两个函数有相同的导数，那么它们的差是个常数（见11.3.1节）

例： ```F(x) =  ∫[0, x] t^2 dt```

1. 可求出其反导数为 ```F(x) = x^3/3 + C```
2. 找到C，由```F(0) =  ∫[0, 0] t^2 dt = 0```，所以有 ```0 = 0^3 + C```，得到 C = 0
3. 则公式为 ```∫[0, x] t^2 dt = x^3/3```
4. 于是可将 x 代入，求定积分，如：
```
∫[0, 1] t^2 dt = 1^3/3 = 1/3
∫[0, 2] t^2 dt = 2^3/3 = 8/3
```

## 微积分第二基本定理
```
如果函数 f 在闭区间 [a, b] 上是连续的，F 是 f 的任意一个反导数（关于x），那么有
    ∫[a, b] f(x) dx = F(b) - F(a)
通常，右边写成 F(x)|[a, b] 形式，即 F(x) = F(b) - F(a)
结合第一定理，可表示为：
    ∫[a, b] d/dx F(x) dx = F(x)|[a, b]
```
因为，我们知道：

1. 定义为： ```F(x) = ∫[a, x] f(t) dt``` 的函数 F 是函数 f（关于x）的反导数，如要求解 F(b)，因为 ```F(b) =  ∫[a, b] f(t) dt```
2. 又由于 ```F(a) =  ∫[a, a] f(t) dt = 0```
3. 假设函数 f 有其他的反导数 G，则 F 和 G 之间只想着一个常数 C，有 ```G(x) = F(x) + C```。如果用 a 替代 x，有 G(a) = F(a) + C；因为上一条的 F(a) = 0，所以有 G(a) = C，就是说：``` F(x) = G(x) - C = G(x) - G(a)```
4. 如果用 b 来替代，有 ```F(b) = G(b) - G(a)```
5. 即 ```∫[a, b] f(t) dt = G(b) - G(a)```，这对于任何反导数都是成立的，将虚拟变量换回 x，函数字母由 G 变回 F，就有了以上第二定理：
```
∫[a, b] f(x) dx = F(b) - F(a)
```
## 不定积分
如果你有知道一个函数的导数，那么就会很快求出这个导数的反导数，具体情况是：
```
如果 d/dx F(x) = f(x)，那么 ∫ f(x) dx = F(x) + C
```
这种没有积分上下限的形式，称为不定积分。与定积分的差别在于：

1. 定积分，如 ∫[a, b] f(x) dx，是一个数。它表示由曲线 y = f(x)、x 轴以及垂线 x = a 和 x = b 所围成的曲线
2. 不定积分，如 ∫ f(x) dx 是一个函数的集合。这个集合由函数 f 的所有反导数（关于 x）组成。这些函数仅有的不同是它们的常数部分

#### ◉ 不定积分的两个性质
如果 f 和 g 是可积的，c 是一个常数，这时：

1. ```∫ (f(x) + g(x)) = ∫ f(x)dx + ∫ g(x)dx```
2. ```∫ c*f(x) dx = c * ∫ f(x)dx```

#### ◉ 回顾
(1) 微积分第一基本定理表明：
```
d/dx ∫[a, x] f(t)dt = f(x)
```
从某种意义上讲，**积分的导数就是原始的函数。**

(2) 微积分第二基本定理说明：
```
∫[a, b] f(x)dx = F(x)|[a, b]    其中 F 是 f 的反导数
```
结合 ```f(x) = d/dx F(x)```，上述表达式可重写为：
```
∫[a, x] d/dx F(x) dx = F(x)|[a, b]
```
可解释为：**一个函数的导数的积分就是这个函数本身。**

这不是实际的原始函数，而是原始函数在 a 和 b 两点数值的差。
这是显然的，微分和导数是相反的运算。

## 怎样解决问题：微积分的第一基本定理

#### ◉  变形1： 变量是积分下限
方法：
翻转 并 撮取被积函数即可

#### ◉  变形2： 积分上限是一个函数
方法：
如```∫[a, f(x)] f(t)dt```，令 u = f(x)，应用链式求导 则有 ```dy/dx = dy/du * du/dx```，然后逐项求导

#### ◉  变形3： 积分上下限都是函数
方法：
用一个常数将这个积分分成两个部分。然后就是分别求积，并相加。

#### ◉  变形4： 极限伪装成导数
方法：
如：```lim(h → 0) 1/h * ∫[x, x+h] f(t)dt```。
实际上，根据微积分第二基本定理有：
```
F(x+h) - F(h) = ∫[x, x+h] f(t) dt
可得
lim(h → 0) 1/h * ∫[x, x+h] f(t)dt = lim(h → 0) (F(x+h) - F(x))/h = F'(x)
```
这个极限是个伪装的导数，可应用微积分第一基本定理，直接提取被积函数。

## 怎样解决问题：微积分的第二基本定理

使用第二基本定理计算定积分，首先要找到不定积分，然后分别将上下限代入，最后再求差。

#### ◉ 计算不定积分
只要知道一个函数的导函数，就一定会知道这个导函数的反导数。

|          导数                          |      定积分                                  |
|:--------------------------------------|:--------------------------------------------|
| d/dx C = 0   (C为常数)                 |  ∫ C dx =  C * x                            |
| d/dx x^a = a * x^(a-1)                |  ∫ x^a dx = x^(a+1)/(a+1) + C   (如果 a ≠ -1)|
| d/dx ln(x) = 1/x                      |  ∫ 1/x dx = ln abs(x) + C                   |
| d/dx e^x = e^x                        |  ∫ e^x dx = e^x + C                         |
| d/dx b^x = b^x ln(b)                  |  ∫ b^x dx = b^x/ln(b) + C                   |
| d/dx sin(x) = cos(x)                  |  ∫ cos(x)dx = sin(x) + C                    |
| d/dx cos(x) = -sin(x)                 |  ∫ sin(x)dx = -cos(x) + C                   |
| d/dx tan(x) = sec^2(x)                |  ∫ sec^2(x)dx = tan(x) + C                  |
| d/dx sec(x) = sec(x)tan(x)            |  ∫ sec(x)tan(x)dx = sec(x) + C              |
| d/dx cot(x) = -csc^2(x)               |  ∫ csc^2(x)dx = -cot(x) + C                 |
| d/dx csc(x) = -csc(x)cot(x)           |  ∫ csc(x)cot(x)dx = -csc(x) + C             |
| d/dx sin -1(x) = 1/sqrt(1-x^2)        |  ∫ 1/sqrt(1-x^2)dx = sin -1(x) + C          |
| d/dx tan -1(x) = 1/(1+x^2)            |  ∫ 1/(1+x^2)dx = tan -1(x) + C              |
| d/dx sec -1(x) = 1/abs(x)*sqrt(x^2-1) |  ∫ 1/(abs(x)*sqrt(x^2-1))dx = sec -1(x) + C |
| d/dx sin h(x) = cos h(x)              |  ∫ cos h(x) dx = sin h(x) + C               |
| d/dx cos h(x) = sin h(x)              |  ∫ sin h(x) dx = cos h(x) + C               |

#### ◉ ax 替代 x 的还原
* 在上述 **微分公式** 中，如果用 ax 替代 x，那么把每一个相应的公式乘以 a 就可以了，例如：```d/dx tan(7x)  = 7 * sec^2(7x)```
* 如果是 **积分**，规则是：如果用 ax 替代 x，那么需要把相应的公式除以 a，如：```∫ sec^2(7x) = 1/7 * tan(7x) + C```。

#### ◉ 计算定积分
微积分的第二基本定理告诉我们，为计算
```
∫ [a, b] f(x)dx，
```
仅需先找到它的反导数，然后把 x = a 和 x = b 分别代入，最后求它们的差。

**计算定积分时可以忽略常数C**

#### ◉ 面积和绝对值
如果面积代数和为0（或可相互抵消），应将函数积分分为上下两部分，求两部分定积分的绝对值的和
