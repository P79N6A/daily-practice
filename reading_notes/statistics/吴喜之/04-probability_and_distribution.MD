# 4 机会的度量 概率和分布

## 4.2 概率的运算

### 概率的加法 (OR)
如果两个事件不可能同时发生，那么其中之一发生的概率为这两个事件发生的概率和。
```
P(A∪B) = P(A) + P(B) - P(A∩B)
```

### 概率的乘法 (AND)
如果两个事件互为 **独立（independent）**，则两事件同时发生的概率为他们发生概率的乘法：
```
P(A∩B) = P(A) * P(B)
```

如果事件不独立则需要引进 **条件概率（conditional probability）**。

#### 贝叶斯公式
一般的，在一个事件 B 已经发生的情况下，事件 A 发生的条件概率为：
```
P(A|B) = P(B|A)*P(A) / p(B)， P(B) ≠ 0
```

## 4.3 变量的分布

### 4.3.1 离散随机变量的分布

#### 二次分布
试验次数为 n，成功概率为 p：
```
均值  = n*p
方差  = n*p*(1-q)
标准差 = sqrt(n*p*(1-q))
```
n 次 Bernoulli 试验成功 k 次 的概率：
```
p(k) = p^k * (1-p)^(n-k),   k=0,1,...,n
```

#### 多项分布

#### Poisson 分布
参数为 ℷ 的 Poisson 分布的概率分布：
```
p(k) = e^(-ℷ) * (ℷ^k/k!)，   k=0,1,2,...
```

#### 超几何分布
和“不放回”抽样有关，被三个参数决定：
* 产品总个数 n
* 不合格产品数 m
* 不放回抽样数 t

### 4.3.2 连续随机变量的分布
描述连续随机变量概率分布的曲线，称为 **概率密度函数（probability density function, PDF）**。

#### 正态分布
**正态分布（normal distribution）** 用 ```N(µ,𝝈)```表示，其中 µ 为（总体）均值，而 𝝈 为（总体）标准差。

均值为 0，标准差为 1 的正态分布 N(0,1) 称为 **标准正态分布（standard normal distribution）**。
标准正态分布的密度函数通常用 𝛷(x) 表示。

任何具有正态分布 ```N(µ, 𝝈)``` 随机变量 X 都可以通过简单变换标准化：
```
Z = (X-µ)/𝝈
```

密度函数：
```
f(x) = 1/sqrt(2π)*𝝈 ^ (e^ (-(x-µ)^2/2𝝈^2))
```

由正态导出的三种分布：
##### 1. χ²分布
n 个独立标准正态变量的平方和称为有 n 个自由度的 **χ²分布（chi-square distribution, 卡方分布）**。

##### 2. t分布
**t分布（t distribution，学生分布）** 的自由度为 n-1。

##### 3. F分布
两个独立的 χ²分布变量（在除以它们各自自由度之后）的比称为 F分布变量，而两个 χ²分布的自由度则为 F分布 的自由度，因此，F分布有两个自由度：
第一个自由度等于在分子上的 χ²分布的自由度；
第二个自由度等于在分母上的 χ²分布的自由度。

#### 均匀分布
**均匀分布（uniform distribution）** 是最简单的连续型分布。

### 4.3.3 累积分布函数
随机变量小于或等于某个数值的概率 P(X ≤ x) 就称为 **累积分布函数（cumulative distribution function，简称 cdf）或 分布函数**。
累积分布函数概念的引进，对于查表或使用软件得到概率是很方便的，因为：
```
P(a ≤ X ≤ b) = ∫[a,b] f(x)dx = P(X ≤ b) - P(X ≤ a)
```

## 4.4 抽样分布、中心极限定理
样本均值做为随机变量具有如下性质：

1. 样本均值 Ẋ 的抽样分布的总体均值等于 µ
2. 样本均值 Ẋ 的抽样分布的总体标准差等于 𝝈/sqrt(n)，显然，样本量越大，Ẋ 的标准差越小
3. 即使 X 的分布不是正态，那么在很一般的条件下，当样本量增加时，Ẋ 的分布趋近于正态分布 ```N(µ, 𝝈/sqrt(n))```。这就是所谓的 ```中心极限定理（Central Limit Theorem，缩写为 CLT）```

## 4.5 用小概率事件进行判断
对于二项分布，可彩 Bernoulli 试验进行抽样检验，并用 R 函数算出累积分布函数的概率（定量分析）：
```
pbinom(成功数，抽样数，宣称成功率)
```
